# Axiom 확장 리팩토링 계획

## 개요
이 문서는 Axiom 확장 프로그램에 대한 전체적인 리팩토링 계획을 기술합니다. 리팩토링의 목표는 코드베이스를 정리하고, 불필요한 파일을 제거하며, 코드 구조를 개선하는 것입니다.

## 현재 상태 분석

### 발견된 문제점
1. **불필요한 파일 존재**
   - dist/ 폴더: 빌드 산출물로 git에 포함될 필요 없음
   - 테스트 관련 임시 파일: test-command.js, test-llm.js, test-plugins.js 등
   - 중복 문서: HISTORY.md과 같은 중복 문서 파일

2. **레거시 코드 참조**
   - src/extension.ts에서 chat-test.html 참조가 남아있지만 실제 파일은 사용하지 않음
   - 불필요한 파일들에 대한 참조가 코드 내에 남아있음

3. **코드 구조 문제**
   - extension.ts가 너무 길고 복잡함(500줄 이상)
   - ChatService와 AxiomChatViewProvider 클래스가 하나의 파일에 집중됨
   - UI 관련 로직과 비즈니스 로직이 혼합되어 있음

4. **문서와 코드 불일치**
   - README.md와 HISTORY.md 내용이 현재 코드 상태와 완전히 일치하지 않음
   - 일부 문서에서 언급된 작업이 실제로 완료되지 않음

## 리팩토링 작업 계획

### 1단계: 파일 정리
- [ ] `dist/` 폴더 정리 및 .gitignore에 추가
- [ ] 불필요한 테스트 파일 제거
- [ ] 중복 문서 파일 제거

### 2단계: 코드 수정
- [ ] extension.ts에서 chat-test.html 참조를 chat.html로 수정
- [ ] 레거시 코드 참조 제거
- [ ] 코드 중복 제거

### 3단계: 코드 구조 개선
- [ ] extension.ts를 다음 파일로 분리:
  - [ ] ChatService.ts: 대화 관리 및 메시지 처리
  - [ ] AxiomChatViewProvider.ts: 웹뷰 UI 관리
  - [ ] commands/index.ts: 명령어 등록 및 처리
- [ ] 각 모듈 간 의존성 개선

### 4단계: 문서 재작성
- [ ] README.md 재작성 - 최신 구조, 기능, 사용법 반영
- [ ] HISTORY.md 초기화 - 새로운 버전부터 기록
- [ ] 주석 및 코드 내 문서화 개선

### 5단계: 테스트 및 검증
- [ ] 기능 검증: 모든 주요 기능이 여전히 작동하는지 확인
- [ ] 코드 품질 검사: 린트 규칙 준수 확인
- [ ] 성능 테스트: 시작 시간 및 응답성 검증

## 리팩토링 원칙
1. **기능 보존**: 리팩토링 과정에서 기존 기능은 100% 유지
2. **단순화**: 코드와 구조를 가능한 단순하게 유지
3. **모듈화**: 논리적으로 분리 가능한 코드는 별도 모듈로 분리
4. **중복 제거**: 동일한 기능을 하는 코드 및 파일 통합
5. **문서화**: 코드 변경에 따라 문서 철저히 업데이트

## 이행 계획
각 작업은 순차적으로 진행하며, 각 단계 완료 후 기능 검증을 실시합니다.
Git을 통해 각 단계별로 변경사항을 기록하고, 코드 리뷰를 수행합니다.